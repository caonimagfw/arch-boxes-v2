# mke2fs.conf â€” Debian 11 (bullseye) e2fsprogs 1.46.2 compatible defaults.
#
# Purpose: CloudCone host GRUB is an old build that does NOT support the
#          metadata_csum_seed incompat feature added in e2fsprogs 1.47.
#          By pinning the config to Debian 11 defaults we produce an ext4
#          filesystem identical to what CloudCone's own Debian 11 images use,
#          guaranteeing full GRUB compatibility.
#
# Usage:   MKE2FS_CONFIG=debian11-mke2fs.conf mkfs.ext4 -F /dev/loopXp1

[defaults]
	base_features = sparse_super,large_file,filetype,resize_inode,dir_index,ext_attr
	default_mntopts = acl,user_xattr
	enable_periodic_fsck = 0
	blocksize = 4096
	inode_size = 256
	inode_ratio = 16384

[fs_types]
	ext3 = {
		features = has_journal
	}
	ext4 = {
		features = has_journal,extent,huge_file,flex_bg,metadata_csum,64bit,dir_nlink,extra_isize
		inode_size = 256
	}
	ext4dev = {
		features = has_journal,extent,huge_file,flex_bg,metadata_csum,64bit,dir_nlink,extra_isize
		inode_size = 256
	}
	small = {
		blocksize = 1024
		inode_size = 128
		inode_ratio = 4096
	}
	floppy = {
		blocksize = 1024
		inode_size = 128
		inode_ratio = 8192
	}
	big = {
		inode_ratio = 32768
	}
	huge = {
		inode_ratio = 65536
	}
	news = {
		inode_ratio = 4096
	}
	largefile = {
		inode_ratio = 1048576
	}
	largefile4 = {
		inode_ratio = 4194304
	}
	hurd = {
		blocksize = 4096
		inode_size = 128
	}
